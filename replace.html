<head th:fragment="head">
    <meta charset="utf-8">
    <title>ggboy-shakalaka Home</title>
    <meta name="keywords" content="个人博客"/>
    <meta name="description" content="个人博客"/>
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link th:href="@{/css/index.css}" rel="stylesheet"/>
    <script th:src="@{https://code.jquery.com/jquery-1.12.4.min.js}"></script>
    <script th:src="@{/js/base.js}"></script>
</head>

<footer th:fragment="footer">
    <p>Design by <a href="http://www.yangqq.com" target="_blank">杨青个人博客</a></p>
</footer>

<header th:fragment="header">
    <div class="logo"><a href="/">Blog >> ggboy-shakalaka</a></div>
    <nav>
        <ul id="starlist">
            <li><a href="/">首页</a></li>
            <li><a href="/list">文章列表</a></li>
            <li><a href="/time">时光轴</a></li>
            <li><a href="/about">关于我</a></li>
            <li><a href="https://github.com/ggboy-shakalaka/simple-blog" target="_blank">网站源码</a></li>
            <li><a href="/admin">控制台</a></li>
        </ul>
    </nav>
</header>

<aside th:fragment="aside">
    <div class="ztbox">
        <ul>
            <li><a href="#" title="个人博客模板 ( 38 )">个人博客模板 ( 38 )</a></li>
        </ul>
    </div>
    <div class="paihang">
        <h2>受人关注</h2>
        <ul>
            <li th:each="item:${favoriteList}">
                <a th:href="@{/info/{blogId}(blogId=${item.blogId})}" target="_blank" th:title="${item.title}"
                   th:text="${item.title}"></a>
            </li>
        </ul>
    </div>
    <div class="paihang">
        <h2>站长推荐</h2>
        <ul>
            <li th:each="item:${recommendList}">
                <a th:href="@{/info/{blogId}(blogId=${item.blogId})}" target="_blank" th:title="${item.title}"
                   th:text="${item.title}"></a>
            </li>
        </ul>
    </div>
    <div class="paihang">
        <h2>友情链接</h2>
        <ul>
            <li th:each="item:${friendLinkList}"><a th:href="@{${item.url}}" th:text="${item.name}" target="_blank"></a>
            </li>
        </ul>
    </div>
</aside>

<div class="blogs" th:fragment="blogList">
    <div class="bloglist" th:each="blog:${blogList}">
        <h2><a th:href="@{'/info/'+${blog.blogId}}" title="程序员请放下你的技术情节，与你的同伴一起进步" th:text="${blog.title}"></a></h2>
        <p th:text="${blog.synopsis}"></p>
    </div>
</div>

<div class="pagelist" th:fragment="pagelist">
    <a th:if="${page.startArrow > 1 && categoryId == null}" th:href="@{/list/1}">1</a>
    <a th:if="${page.startArrow > 1 && categoryId != null}"
       th:href="@{/list/category/{categoryId}/1(categoryId=${categoryId})}">1</a>
    <a th:if="${page.page > 1 && categoryId == null}" th:href="@{/list/{page}(page=${page.page - 1})}">上一页</a>
    <a th:if="${page.page > 1 && categoryId != null}"
       th:href="@{/list/category/{categoryId}/{page}(categoryId=${categoryId},page=${page.page - 1})}">上一页</a>
    <span th:each="item:${#numbers.sequence(page.startArrow,page.endArrow)}">
        <a th:if="${item != page.page && categoryId == null}" th:href="@{/list/{page}(page=${item})}"
           th:text="${item}"></a>
        <a th:if="${item != page.page && categoryId != null}"
           th:href="@{/list/category/{categoryId}/{page}(categoryId=${categoryId},page=${item})}" th:text="${item}"></a>
        <b th:if="${item == page.page}" th:text="${item}"></b>
    </span>
    <a th:if="${page.page < page.pages && categoryId == null}" th:href="@{/list/{page}(page=${page.page + 1})}">下一页</a>
    <a th:if="${page.page < page.pages && categoryId != null}"
       th:href="@{/list/category/{categoryId}/{page}(categoryId=${categoryId},page=${page.page + 1})}">下一页</a>
    <a th:if="${page.endArrow < page.pages && categoryId == null}" th:href="@{/list/{page}(page=${page.pages})}"
       th:text="${page.pages}"></a>
    <a th:if="${page.endArrow < page.pages && categoryId != null}"
       th:href="@{/list/category/{categoryId}/{page}(categoryId=${categoryId},page=${page.pages})}"
       th:text="${page.pages}"></a>
</div>

<div class="pagelist" th:fragment="timelinePage">
    <a th:if="${page.startArrow > 1}" th:href="@{/time/1}">1</a>
    <a th:if="${page.page > 1}" th:href="@{/time/{page}(page=${page.page - 1})}">上一页</a>
    <span th:each="item:${#numbers.sequence(page.startArrow,page.endArrow)}">
        <a th:if="${item != page.page}" th:href="@{/time/{page}(page=${item})}" th:text="${item}"></a>
        <b th:if="${item == page.page}" th:text="${item}"></b>
    </span>
    <a th:if="${page.page < page.pages}" th:href="@{/time/{page}(page=${page.page + 1})}">下一页</a>
    <a th:if="${page.endArrow < page.pages}" th:href="@{/time/{page}(page=${page.pages})}" th:text="${page.pages}"></a>
</div>

<div th:fragment="blogView">
    <div id="view" class="news_con" th:text="${blog.content}"></div>
    <link th:href="@{/css/markdown.css}" rel="stylesheet">
    <script th:src="@{/js/showdown.min.js}" type="text/javascript"></script>
    <script>
        window.onload = function () {
            var text = document.getElementById("view").innerHTML;
            text = text.replace(/&(lt|gt|nbsp|amp|quot);/ig,function(all,t){return {'lt':'<','gt':'>','nbsp':' ','amp':'&','quot':'"'}[t];});
            var html = new showdown.Converter().makeHtml(text);
            document.getElementById("view").innerHTML = html;
        }
    </script>
</div>